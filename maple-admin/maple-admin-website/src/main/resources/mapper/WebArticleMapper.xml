<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.maple.website.mapper.WebArticleMapper">
    
    <sql id="selectWebArticleVo">
        select id, category_id, parent_id, title, description, img, sort_num, keywords, author, original_url, is_top, is_hot, status, source, level, read_num, collect_num, like_num, comment_num, create_id, create_time, update_id, update_time from web_article
    </sql>
    <select id="getPageList" resultType="com.maple.website.vo.model.WebArticleModel">
        <include refid="selectWebArticleVo"/>
        <where>
            <if test="webArticle.categoryId != null"> 
                and category_id = #{webArticle.categoryId}
            </if>
            <if test="webArticle.title != null and webArticle.title != ''"> 
                and title = #{webArticle.title}
            </if>
            <if test="webArticle.description != null and webArticle.description != ''"> 
                and description = #{webArticle.description}
            </if>
            <if test="webArticle.img != null and webArticle.img != ''"> 
                and img = #{webArticle.img}
            </if>
            <if test="webArticle.keywords != null and webArticle.keywords != ''"> 
                and keywords = #{webArticle.keywords}
            </if>
            <if test="webArticle.author != null and webArticle.author != ''"> 
                and author = #{webArticle.author}
            </if>
            <if test="webArticle.originalUrl != null and webArticle.originalUrl != ''"> 
                and original_url = #{webArticle.originalUrl}
            </if>
            <if test="webArticle.isTop != null"> 
                and is_top = #{webArticle.isTop}
            </if>
            <if test="webArticle.isHot != null"> 
                and is_hot = #{webArticle.isHot}
            </if>
            <if test="webArticle.status != null and webArticle.status != ''"> 
                and status = #{webArticle.status}
            </if>
            <if test="webArticle.source != null"> 
                and source = #{webArticle.source}
            </if>
            <if test="webArticle.level != null"> 
                and level = #{webArticle.level}
            </if>
            <if test="webArticle.readNum != null"> 
                and read_num = #{webArticle.readNum}
            </if>
            <if test="webArticle.collectNum != null"> 
                and collect_num = #{webArticle.collectNum}
            </if>
            <if test="webArticle.likeNum != null"> 
                and like_num = #{webArticle.likeNum}
            </if>
            <if test="webArticle.commentNum != null"> 
                and comment_num = #{webArticle.commentNum}
            </if>
        </where>
        order by id desc
    </select>
</mapper>